# API仕様書

## API一覧

|No.|API機能No.|API名|機能概要|
|---|---|---|---|
|0|ShunNaviAPI-000|献立|緯度経度情報に応じた献立の取得|
|1|ShunNaviAPI-001|食材|指定した食材についてのデータを返す|

<br>

----

## ShunNaviAPI-000

|API機能No|ShunNaviAPI-000|
|---|---|
|API名|献立の取得|
|更新日/更新者||
|概要|クライアントの位置情報をサーバーに送信しその位置情報から取得した県の食材を使った旬の献立を取得する|
|||
<br>

|アクセスURL||
|---|---|
|旬の献立 | /api/v1/menu/ |
|カテゴリリスト | /api/v1/menu/category_list/ |
|カテゴリ内ランキング | /api/v1/menu/ranking/:id |
|||

<br>

|入力データ| | | | | | 
|---|---|---|---|---|---|
| *アクセス方法* | *POST*| | | | |
| *形式* | *JSON* | | | | |
|**JSON Key** | **型**| **サイズ** | **必須** | **繰返** | **値の説明** |
|longitude|数値||〇|| 言葉の通り経度 |
|latitude|数値||〇|| 言葉の通り緯度 |

### 楽天レシピAPI 対応，使用するデータ
| 元の値 | 変換後 | 備考 |
|---|---|---|
| result | recipeList | |
| - recipeTitle | -name | |
| - mediumImageUrl | - picture | |
| - recipeDescription| - recipeDescription | |
| - recipeMaterial | - foods | 配列 |
| - recipeCost | - cost | 文字列をそのまま |
| - recipeIndication | - time | 調理時間 |


<br>

|出力データ| | | | | | 
|---|---|---|---|---|---|
|**JSON Key** | **型**| **最大サイズ** | **必須** | **繰返** | **値の説明** |
| recipiList | 配列 | | 〇 | | レシピの一覧 |
| - id | 数値 |  | 〇 |  | 管理用 |
| - name | 文字列 |  |  |  | 料理名 |
| - picture | 文字列 | | | | 料理の画像のリンク |
| - cal | 数値 |  |  |  | 一食当たりの料理のカロリー |
| - prefecture | 文字列 | | | | 主にどこの県の料理か |
| - foods | 配列 | | | | 使われている食材の一覧 |
| -- food | 文字列 | | | | 食材の名前 |
| - cost | 数値 | | | | 予算の目安 |
| - time | 文字列 | | | | 調理時間の目安 |

|ステータスコード|説明|
|---|---|
|  | 位置情報がおかしい，県名が取得できなかった(null)  |

<br>

---

## ShunNaviAPI-001

|API機能No|ShunNaviAPI-001|
|---|---|
|API名|食品の詳細取得|
|更新日/更新者||
|概要|食材の産地，特徴，値段，栄養価，価格推移についてを取得する|

<br>

|アクセスURL||
|---|---|
|カテゴリリスト | /api/v1/menu/foods |

<br>

|入力データ| | | | | | 
|---|---|---|---|---|---|
| *アクセス方法* | *POST*| | | | |
| *形式* | *JSON* | | | | |
|**JSON Key** | **型**| **サイズ** | **必須** | **繰返** | **値の説明** |
|foods| 配列 |  | 〇 |  |  |
|- id| 数値 |  |  |  | 管理用 |
|- name| 文字列 |  |  |  | 食材名 |

<br>

|出力データ| | | | | | 
|---|---|---|---|---|---|
|**JSON Key** | **型**| **最大サイズ** | **必須** | **繰返** | **値の説明** |
| foodList | 配列 | | 〇 | | 食材についての詳細情報 |
| - picture | 文字列 | | | | 食材の画像のリンク |
| - prefectures | 文字列 | | | | 主に取れる産地一覧 |
| -- prefecture_id | 文字列 | | | | 産地のid |
| -- prefecture | 文字列 | | | | 産地名 |
| - foods | 配列 | | | | 使われている食材の一覧 |
| - id | 数値 |||| 管理用 |
| -- food | 文字列 | | | | 食材の名前 |
| - prices | 配列 | | | | 価格遷移グラフの作成用 |
| -- price | 文字列 | | | | 各月の仕入れ値 |
| - isShun | 数値(bool) | | | | 旬かどうかの判定 |
| - cal | 数値 | | | | | 100g当たりのカロリー |
| nutritionals | 配列 |||| 含まれている栄養分 |
| - id | 数値 |||| 管理用 |
| - food | 文字列 |||| 食材名 | 
| - info | 配列 | |||| 食材の栄養素一覧について |
| -- name | 文字列 |||| 栄養素名 |
| -- value | 文字列 |||| 量 |
| -- unit | 文字列 |||| 単位 |
| **↓代案** ||||||
| - nvalue_power or [0] | 文字列 |||| 100g当たりのエネルギー量 |
| - nvalue_protein or [1] | 配列 |||| 100g当たりに含まれているタンパク質 |
| - nvalue_lipid or [2] | 配列 |||| 100g当たりに含まれている脂質 |
| - nvalue_carbohydrate or [3] | 配列 |||| 100g当たりに含まれている炭水化物 |
| - nvalue_sodium or [4] | 配列 |||| 100g当たりに含まれているナトリウム |
| - nvalue_potssium or [5] | 配列 |||| 100g当たりに含まれているカリウム |
| - nvalue_calcium or [6] | 配列 |||| 100g当たりに含まれているカルシウム |
| - nvalue_cholesterol or [7] | 配列 |||| 100g当たりに含まれているコレステロール |
| - nvalue_containsalt or [8] | 配列 |||| 100g当たりに含まれている食塩相当量 |


|ステータスコード|説明|
|---|---|
|||

<br>

---

